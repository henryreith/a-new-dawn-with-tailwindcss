{%- if section.settings.animations_reveal_on_scroll -%}
  <script src='{{ 'animations.js' | asset_url }}' defer='defer'></script>
{%- endif -%}

{%- style -%}
    #benefits-inline-section-{{ section.id }}.section-{{ section.id }}-padding {
        padding-top: {{ section.settings.padding_top | times: 0.75 | round: 0 }}px;
        padding-bottom: {{ section.settings.padding_bottom | times: 0.75 | round: 0 }}px;
    }

  @media screen and (min-width: 750px) {
        #benefits-inline-section-{{ section.id }}.section-{{ section.id }}-padding {
            padding-top: {{ section.settings.padding_top }}px;
            padding-bottom: {{ section.settings.padding_bottom }}px;
        }
  }

  .benefits-section {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    flex-direction: column;
    gap: 0.75rem 2rem;
    font-size: 2.6rem;
    font-weight: 700;
  }

  @media screen and (min-width: 990px) {
    .benefits-section {
        flex-direction: row;
        gap: 1rem 3rem;
    }
  }

  .benefits-item {
    display: inline-flex;
    align-items: center;
    text-align: center;
    flex-direction: row;
    gap: 0.75rem;
  }

  .benefits-item svg {
    height: 1em;
    width: auto;
  }

  {% if section.settings.animations_reveal_on_scroll %}
    .benefits-section {
      overflow: hidden;
    }
  {% endif %}
{%- endstyle -%}

<div
  id='benefits-inline-section-{{ section.id }}'
  class='section-{{ section.id }}-padding color-{{ section.settings.color_scheme }} gradient'
  {% if section.settings.animations_reveal_on_scroll %}
    data-cascade
  {% endif %}
>
  <div
    class='benefits-section page-width {% if section.settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %}'
    {% if section.settings.animations_reveal_on_scroll %}
      data-cascade
    {% endif %}
  >
    {%- for block in section.blocks -%}
      <div
        class='benefits-item'
        {% if section.settings.animations_reveal_on_scroll %}
          style='--animation-order: {{ forloop.index }};'
        {% endif %}
      >
        <div class='benefits-icon'>
          {% if block.settings.icon_html != blank %}
            {{ block.settings.icon_html }}
          {% else %}
            {{ block.settings.icon_image | image_url | image_tag }}
          {% endif %}
        </div>
        <div class='benefits-title'>
          {{ block.settings.title | escape }}
        </div>
      </div>
    {%- endfor -%}
  </div>
</div>

{% schema %}
{
  "name": "Benefits Inline",
  "tag": "section",
  "class": "benefits-section",
  "max_blocks": 6,
  "disabled_on": {
    "groups": ["header"]
  },
  "settings": [
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "t:sections.all.colors.label",
      "default": "scheme-1"
    },
    {
      "type": "range",
      "id": "items_per_row",
      "label": "Items per row on desktop",
      "default": 3,
      "min": 1,
      "max": 6,
      "step": 1
    },
    {
      "type": "select",
      "id": "mobile_display",
      "label": "Mobile display style",
      "options": [
        {
          "value": "stacked",
          "label": "Stacked"
        },
        {
          "value": "wrapped",
          "label": "Flex Wrapped"
        }
      ],
      "default": "wrapped"
    },
    {
      "type": "checkbox",
      "id": "animations_reveal_on_scroll",
      "label": "Animate reveal on scroll",
      "default": true
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.all.padding.padding_top",
      "default": 36
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.all.padding.padding_bottom",
      "default": 36
    }
  ],
  "blocks": [
    {
      "type": "benefit",
      "name": "t:sections.benefits.blocks.benefit.name",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Benefit title"
        },
        {
          "type": "header",
          "content": "Icon"
        },
        {
          "type": "paragraph",
          "content": "If the icons appear at the top of the page, add inline svg code as this will load the icon directly in the code meaning it will be seen on page load. If the icon is lower down the page add the icon as a SVG or PNG image."
        },
        {
          "type": "html",
          "id": "icon_html",
          "label": "Add inline SVG icon"
        },
        {
          "type": "image_picker",
          "id": "icon_image",
          "label": "SVG or PNG benefit icon"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Benefits Inline",
      "category": "Custom",
      "blocks": [
        {
          "type": "benefit"
        }
      ]
    }
  ]
}
{% endschema %}
